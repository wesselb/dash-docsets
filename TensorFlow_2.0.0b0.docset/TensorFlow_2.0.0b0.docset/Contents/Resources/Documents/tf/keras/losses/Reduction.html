<div itemscope="" itemtype="http://developers.google.com/ReferenceObject">
<p><meta itemprop="name" content="tf.keras.losses.Reduction" /> <meta itemprop="path" content="Stable" /> <meta itemprop="property" content="all"/> <meta itemprop="property" content="validate"/> <meta itemprop="property" content="AUTO"/> <meta itemprop="property" content="NONE"/> <meta itemprop="property" content="SUM"/> <meta itemprop="property" content="SUM_OVER_BATCH_SIZE"/></p>
</div>
<a name="//apple_ref/cpp/Class/tf.keras.losses.Reduction" class="dashAnchor"></a><h1 id="tf.keras.losses.reduction">tf.keras.losses.Reduction</h1>
<h2 id="class-reduction">Class <code>Reduction</code></h2>
<p>Types of loss reduction.</p>
<h3 id="aliases">Aliases:</h3>
<ul>
<li>Class <code>tf.compat.v2.keras.losses.Reduction</code></li>
<li>Class <code>tf.compat.v2.losses.Reduction</code></li>
<li>Class <code>tf.keras.losses.Reduction</code></li>
<li>Class <code>tf.losses.Reduction</code></li>
</ul>
<p>Defined in <a href="/code/stable/tensorflow/python/ops/losses/loss_reduction.py"><code>python/ops/losses/loss_reduction.py</code></a>.</p>
<!-- Placeholder for "Used in" -->
<p>Contains the following values:</p>
<ul>
<li><code>AUTO</code>: Indicates that the reduction option will be determined by the usage context. For almost all cases this defaults to <code>SUM_OVER_BATCH_SIZE</code>. When used with <a href="../../../tf/distribute/Strategy.html"><code>tf.distribute.Strategy</code></a>, outside of built-in training loops such as <a href="../../../tf/keras.html"><code>tf.keras</code></a> <code>compile</code> and <code>fit</code>, we expect reduction value to be <code>SUM</code> or <code>NONE</code>. Using <code>AUTO</code> in that case will raise an error.</li>
<li><code>NONE</code>: Un-reduced weighted losses with the same shape as input. When this reduction type used with built-in Keras training loops like <code>fit</code>/<code>evaluate</code>, the unreduced vector loss is passed to the optimizer but the reported loss will be a scalar value.</li>
<li><code>SUM</code>: Scalar sum of weighted losses.</li>
<li><code>SUM_OVER_BATCH_SIZE</code>: Scalar <code>SUM</code> divided by number of elements in losses. This reduction type is not supported when used with <a href="../../../tf/distribute/Strategy.html"><code>tf.distribute.Strategy</code></a> outside of built-in training loops like <a href="../../../tf/keras.html"><code>tf.keras</code></a> <code>compile</code>/<code>fit</code>.</li>
</ul>
<p>You can implement 'SUM_OVER_BATCH_SIZE' using global batch size like: <code>with strategy.scope():      loss_obj = tf.keras.losses.CategoricalCrossentropy(          reduction=tf.keras.losses.Reduction.None)      ....      loss = tf.reduce_sum(loss_object(labels, predictions)) *          (1. / global_batch_size)</code></p>
<p>Please see https://www.tensorflow.org/alpha/tutorials/distribute/training_loops for more details on this.</p>
<h2 id="methods">Methods</h2>
<h3 id="all">
<code>all</code>
</h3>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="at">@classmethod</span>
<span class="bu">all</span>(cls)</code></pre></div>
<h3 id="validate">
<code>validate</code>
</h3>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="at">@classmethod</span>
validate(
    cls,
    key
)</code></pre></div>
<h2 id="class-members">Class Members</h2>
<ul>
<li><code>AUTO = 'auto'</code> <a id="AUTO"></a></li>
<li><code>NONE = 'none'</code> <a id="NONE"></a></li>
<li><code>SUM = 'sum'</code> <a id="SUM"></a></li>
<li><code>SUM_OVER_BATCH_SIZE = 'sum_over_batch_size'</code> <a id="SUM_OVER_BATCH_SIZE"></a></li>
</ul>
