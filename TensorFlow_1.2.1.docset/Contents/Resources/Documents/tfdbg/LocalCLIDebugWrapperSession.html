<div itemscope="" itemtype="http://developers.google.com/ReferenceObject">
<p><meta itemprop="name" content="tfdbg.LocalCLIDebugWrapperSession" /> <meta itemprop="property" content="graph"/> <meta itemprop="property" content="graph_def"/> <meta itemprop="property" content="sess_str"/> <meta itemprop="property" content="session"/> <meta itemprop="property" content="__enter__"/> <meta itemprop="property" content="__exit__"/> <meta itemprop="property" content="__init__"/> <meta itemprop="property" content="add_tensor_filter"/> <meta itemprop="property" content="as_default"/> <meta itemprop="property" content="close"/> <meta itemprop="property" content="invoke_node_stepper"/> <meta itemprop="property" content="on_run_end"/> <meta itemprop="property" content="on_run_start"/> <meta itemprop="property" content="on_session_init"/> <meta itemprop="property" content="partial_run"/> <meta itemprop="property" content="partial_run_setup"/> <meta itemprop="property" content="run"/></p>
</div>
<a name="//apple_ref/cpp/Class/tfdbg.LocalCLIDebugWrapperSession" class="dashAnchor"></a><h1 id="tfdbg.localclidebugwrappersession">tfdbg.LocalCLIDebugWrapperSession</h1>
<h3 id="class-tfdbg.localclidebugwrappersession"><code>class tfdbg.LocalCLIDebugWrapperSession</code></h3>
<p>Defined in <a href="https://www.tensorflow.org/code/tensorflow/python/debug/wrappers/local_cli_wrapper.py"><code>tensorflow/python/debug/wrappers/local_cli_wrapper.py</code></a>.</p>
<p>See the guide: <a href="../../../api_guides/python/tfdbg.md#Session_wrapper_class_and_SessionRunHook_implementations">TensorFlow Debugger &gt; Session wrapper class and <code>SessionRunHook</code> implementations</a></p>
<p>Concrete subclass of BaseDebugWrapperSession implementing a local CLI.</p>
<p>This class has all the methods that a <code>session.Session</code> object has, in order to support debugging with minimal code changes. Invoking its <code>run()</code> method will launch the command-line interface (CLI) of tfdbg.</p>
<h2 id="properties">Properties</h2>
<h3 id="graph">
<code>graph</code>
</h3>
<h3 id="graph_def">
<code>graph_def</code>
</h3>
<h3 id="sess_str">
<code>sess_str</code>
</h3>
<h3 id="session">
<code>session</code>
</h3>
<h2 id="methods">Methods</h2>
<h3 id="__init__">
<code><strong>init</strong></code>
</h3>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="fu">__init__</span>(
    sess,
    dump_root<span class="op">=</span><span class="va">None</span>,
    log_usage<span class="op">=</span><span class="va">True</span>,
    ui_type<span class="op">=</span><span class="st">&#39;curses&#39;</span>,
    thread_name_filter<span class="op">=</span><span class="va">None</span>
)</code></pre></div>
<p>Constructor of LocalCLIDebugWrapperSession.</p>
<h4 id="args">Args:</h4>
<ul>
<li><b><code>sess</code></b>: The TensorFlow <code>Session</code> object being wrapped.</li>
<li><b><code>dump_root</code></b>: (<code>str</code>) optional path to the dump root directory. Must be a directory that does not exist or an empty directory. If the directory does not exist, it will be created by the debugger core during debug <code>run()</code> calls and removed afterwards. If <code>None</code>, the debug dumps will be at tfdbg_<random_string> under the system temp directory.</li>
<li><b><code>log_usage</code></b>: (<code>bool</code>) whether the usage of this class is to be logged.</li>
<li><b><code>ui_type</code></b>: (<code>str</code>) requested UI type. Currently supported: (curses | readline)</li>
<li><b><code>thread_name_filter</code></b>: Regular-expression white list for thread name. See the doc of <code>BaseDebugWrapperSession</code> for details.</li>
</ul>
<h4 id="raises">Raises:</h4>
<ul>
<li><b><code>ValueError</code></b>: If dump_root is an existing and non-empty directory or if dump_root is a file.</li>
</ul>
<h3 id="__enter__">
<code><strong>enter</strong></code>
</h3>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="fu">__enter__</span>()</code></pre></div>
<h3 id="__exit__">
<code><strong>exit</strong></code>
</h3>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="fu">__exit__</span>(
    exec_type,
    exec_value,
    exec_tb
)</code></pre></div>
<h3 id="add_tensor_filter">
<code>add_tensor_filter</code>
</h3>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">add_tensor_filter(
    filter_name,
    tensor_filter
)</code></pre></div>
<p>Add a tensor filter.</p>
<h4 id="args-1">Args:</h4>
<ul>
<li><b><code>filter_name</code></b>: (<code>str</code>) name of the filter.</li>
<li><b><code>tensor_filter</code></b>: (<code>callable</code>) the filter callable. See the doc string of <code>DebugDumpDir.find()</code> for more details about its signature.</li>
</ul>
<h3 id="as_default">
<code>as_default</code>
</h3>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">as_default()</code></pre></div>
<h3 id="close">
<code>close</code>
</h3>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">close()</code></pre></div>
<h3 id="invoke_node_stepper">
<code>invoke_node_stepper</code>
</h3>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">invoke_node_stepper(
    node_stepper,
    restore_variable_values_on_exit<span class="op">=</span><span class="va">True</span>
)</code></pre></div>
<p>Overrides method in base class to implement interactive node stepper.</p>
<h4 id="args-2">Args:</h4>
<ul>
<li><b><code>node_stepper</code></b>: (<code>stepper.NodeStepper</code>) The underlying NodeStepper API object.</li>
<li><b><code>restore_variable_values_on_exit</code></b>: (<code>bool</code>) Whether any variables whose values have been altered during this node-stepper invocation should be restored to their old values when this invocation ends.</li>
</ul>
<h4 id="returns">Returns:</h4>
<p>The same return values as the <code>Session.run()</code> call on the same fetches as the NodeStepper.</p>
<h3 id="on_run_end">
<code>on_run_end</code>
</h3>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">on_run_end(request)</code></pre></div>
<p>Overrides on-run-end callback.</p>
<p>Actions taken: 1) Load the debug dump. 2) Bring up the Analyzer CLI.</p>
<h4 id="args-3">Args:</h4>
<ul>
<li><b><code>request</code></b>: An instance of OnSessionInitRequest.</li>
</ul>
<h4 id="returns-1">Returns:</h4>
<p>An instance of OnSessionInitResponse.</p>
<h3 id="on_run_start">
<code>on_run_start</code>
</h3>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">on_run_start(request)</code></pre></div>
<p>Overrides on-run-start callback.</p>
<p>Invoke the CLI to let user choose what action to take: <code>run</code> / <code>invoke_stepper</code>.</p>
<h4 id="args-4">Args:</h4>
<ul>
<li><b><code>request</code></b>: An instance of <code>OnRunStartRequest</code>.</li>
</ul>
<h4 id="returns-2">Returns:</h4>
<p>An instance of <code>OnRunStartResponse</code>.</p>
<h3 id="on_session_init">
<code>on_session_init</code>
</h3>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">on_session_init(request)</code></pre></div>
<p>Overrides on-session-init callback.</p>
<h4 id="args-5">Args:</h4>
<ul>
<li><b><code>request</code></b>: An instance of <code>OnSessionInitRequest</code>.</li>
</ul>
<h4 id="returns-3">Returns:</h4>
<p>An instance of <code>OnSessionInitResponse</code>.</p>
<h3 id="partial_run">
<code>partial_run</code>
</h3>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">partial_run(
    handle,
    fetches,
    feed_dict<span class="op">=</span><span class="va">None</span>
)</code></pre></div>
<h3 id="partial_run_setup">
<code>partial_run_setup</code>
</h3>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">partial_run_setup(
    fetches,
    feeds<span class="op">=</span><span class="va">None</span>
)</code></pre></div>
<p>Sets up the feeds and fetches for partial runs in the session.</p>
<h3 id="run">
<code>run</code>
</h3>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">run(
    fetches,
    feed_dict<span class="op">=</span><span class="va">None</span>,
    options<span class="op">=</span><span class="va">None</span>,
    run_metadata<span class="op">=</span><span class="va">None</span>
)</code></pre></div>
<p>Wrapper around Session.run() that inserts tensor watch options.</p>
<h4 id="args-6">Args:</h4>
<ul>
<li><b><code>fetches</code></b>: Same as the <code>fetches</code> arg to regular <code>Session.run()</code>.</li>
<li><b><code>feed_dict</code></b>: Same as the <code>feed_dict</code> arg to regular <code>Session.run()</code>.</li>
<li><b><code>options</code></b>: Same as the <code>options</code> arg to regular <code>Session.run()</code>.</li>
<li><b><code>run_metadata</code></b>: Same as the <code>run_metadata</code> arg to regular <code>Session.run()</code>.</li>
</ul>
<h4 id="returns-4">Returns:</h4>
<p>Simply forwards the output of the wrapped <code>Session.run()</code> call.</p>
<h4 id="raises-1">Raises:</h4>
<ul>
<li><b><code>ValueError</code></b>: On invalid <code>OnRunStartAction</code> value.</li>
</ul>
