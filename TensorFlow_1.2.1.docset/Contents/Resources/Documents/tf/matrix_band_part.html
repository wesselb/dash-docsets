<div itemscope="" itemtype="http://developers.google.com/ReferenceObject">
<p><meta itemprop="name" content="tf.matrix_band_part" /></p>
</div>
<a name="//apple_ref/cpp/Function/tf.matrix_band_part" class="dashAnchor"></a><h1 id="tf.matrix_band_part">tf.matrix_band_part</h1>
<h3 id="tf.matrix_band_part-1"><code>tf.matrix_band_part</code></h3>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">matrix_band_part(
    <span class="bu">input</span>,
    num_lower,
    num_upper,
    name<span class="op">=</span><span class="va">None</span>
)</code></pre></div>
<p>Defined in <code>tensorflow/python/ops/gen_array_ops.py</code>.</p>
<p>See the guide: <a href="../../../api_guides/python/math_ops.md#Matrix_Math_Functions">Math &gt; Matrix Math Functions</a></p>
<p>Copy a tensor setting everything outside a central band in each innermost matrix</p>
<p>to zero.</p>
<p>The <code>band</code> part is computed as follows: Assume <code>input</code> has <code>k</code> dimensions <code>[I, J, K, ..., M, N]</code>, then the output is a tensor with the same shape where</p>
<p><code>band[i, j, k, ..., m, n] = in_band(m, n) * input[i, j, k, ..., m, n]</code>.</p>
<p>The indicator function</p>
<p><code>in_band(m, n) = (num_lower &lt; 0 || (m-n) &lt;= num_lower)) &amp;&amp;                  (num_upper &lt; 0 || (n-m) &lt;= num_upper)</code>.</p>
<p>For example:</p>
<pre><code># if &#39;input&#39; is [[ 0,  1,  2, 3]
                 [-1,  0,  1, 2]
                 [-2, -1,  0, 1]
                 [-3, -2, -1, 0]],

tf.matrix_band_part(input, 1, -1) ==&gt; [[ 0,  1,  2, 3]
                                       [-1,  0,  1, 2]
                                       [ 0, -1,  0, 1]
                                       [ 0,  0, -1, 0]],

tf.matrix_band_part(input, 2, 1) ==&gt; [[ 0,  1,  0, 0]
                                      [-1,  0,  1, 0]
                                      [-2, -1,  0, 1]
                                      [ 0, -2, -1, 0]]</code></pre>
<p>Useful special cases:</p>
<pre><code> tf.matrix_band_part(input, 0, -1) ==&gt; Upper triangular part.
 tf.matrix_band_part(input, -1, 0) ==&gt; Lower triangular part.
 tf.matrix_band_part(input, 0, 0) ==&gt; Diagonal.</code></pre>
<h4 id="args">Args:</h4>
<ul>
<li><b><code>input</code></b>: A <code>Tensor</code>. Rank <code>k</code> tensor.</li>
<li><b><code>num_lower</code></b>: A <code>Tensor</code> of type <code>int64</code>. 0-D tensor. Number of subdiagonals to keep. If negative, keep entire lower triangle.</li>
<li><b><code>num_upper</code></b>: A <code>Tensor</code> of type <code>int64</code>. 0-D tensor. Number of superdiagonals to keep. If negative, keep entire upper triangle.</li>
<li><b><code>name</code></b>: A name for the operation (optional).</li>
</ul>
<h4 id="returns">Returns:</h4>
<p>A <code>Tensor</code>. Has the same type as <code>input</code>. Rank <code>k</code> tensor of the same shape as input. The extracted banded tensor.</p>
